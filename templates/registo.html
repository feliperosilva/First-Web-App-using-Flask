<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Registo - Luxury Wheels</title>

    <!-- Bootstrap Lux -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@4.5.2/dist/lux/bootstrap.min.css" integrity="sha384-9+PGKSqjRdkeAU7Eu4nkJU8RFaH8ace8HGXnkiKMP9I9Te0GJ4/km3L1Z8tXigpG" crossorigin="anonymous">

    <!-- Fonte 'Great Vibes' para o título da homepage -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">

    <!-- Fonte 'Roboto' para Contactos -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">

    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" integrity="sha384-tViUnnbYAV00FLIhhi3v/dWt3Jxw4gZQcNoSCxCIFNJVCx7/D55/wXsrNIRANwdD" crossorigin="anonymous">

    <!-- ligação ao ficheiro .css -->
    <link rel="stylesheet" href="{{ url_for('static', filename='registo.css') }}">
</head>
<body>

<!-- Barra superior da página -->
<nav class="navbar navbar-expand-lg bg-primary" data-theme="dark">
  <div class="container-fluid">
    <a class="navbar-brand text-white titulo" href="/">Luxury Wheels</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarColor01">
      <ul class="navbar-nav me-auto">
        <li class="nav-item">
          <a class="nav-link text-white" href="{{ url_for('veiculos') }}">Veículos</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white" href="{{ url_for('login') }}">Login</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white" href="{{ url_for('registo') }}">Registo</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white" href="{{ url_for('contactos') }}">Contactos</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<form action="/registo" method="POST"> <!-- Form action para registar novo usuário -->
  <fieldset class="registo-form">
    <header class="registo">Registo</header>
    <div>
      <label for="example_first_name" class="form-label mt-4">Primeiro Nome</label>
      <input type="text" name="first_name" class="form-control custom-input" id="example_first_name"> <!-- é necessário criar o atributo 'name' que tenha o mesmo nome dos apresentados na route. Ex. request.form.get('first_name') -->
    </div>
    <div>
      <label for="example_last_name" class="form-label mt-4">Último Nome</label>
      <input type="text" name="last_name" class="form-control custom-input" id="example_last_name">
    </div>
    <div>
      <label for="example_email" class="form-label mt-4">Email</label>
      <input type="email" name="email" class="form-control custom-input" id="example_email">
    </div>
    <div>
      <label for="example_password" class="form-label mt-4">Password</label>
      <div class="password-container">
          <input type="password" name="password" class="form-control custom-input" id="example_password" autocomplete="off">
          <i class="bi bi-eye" id="togglePassword" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer;"></i>
      </div>
    </div>
    <button type="submit" class="btn btn-outline-secondary btn-block">Registar</button>
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <ul class=flashes>
        {% for category, message in messages %}
          <li class="{{ category }}">{{ message }}</li>
        {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}

    <p class="ja-registado">Se já estiver registado, faz login <a class="login-aqui" href="login">aqui</a>.</p>
  </fieldset>
</form>

<!-- jQuery, Popper.js e Bootstrap JS (obrigatorio para os componentes de Bootstrap) -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.min.js" crossorigin="anonymous"></script>

<script>
    const togglePassword = document.querySelector('#togglePassword');
    const passwordInput = document.querySelector('#example_password');

    togglePassword.addEventListener('click', function (e) {
        // Toggle the password visibility
        const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
        passwordInput.setAttribute('type', type);

        // Toggle the icon between bi-eye and bi-eye-slash
        this.classList.toggle('bi-eye');
        this.classList.toggle('bi-eye-slash');
    });
</script>

</body>
</html>